<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Leads Tracker - Dashboard</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Manage and organize your leads efficiently">
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <link rel="manifest" href="/site.webmanifest">
        <link rel="stylesheet" href="logged.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    </head>
    <body>
        <!-- Theme Toggle -->
        <button id="theme-toggle" class="theme-toggle" aria-label="Toggle dark mode">
            <span class="theme-icon">üåô</span>
        </button>

        <div class="app-container">
            <!-- Sidebar -->
            <aside class="sidebar" id="sidebar">
                <div class="sidebar-header">
                    <h1 class="logo">üìå Leads Tracker</h1>
                    <button id="sidebar-toggle" class="sidebar-toggle" aria-label="Toggle sidebar">‚ò∞</button>
                </div>

                <!-- User Info -->
                <div class="user-info" id="user-info">
                    <div class="user-avatar" id="user-avatar">U</div>
                    <div class="user-details">
                        <span class="user-name" id="user-name">User</span>
                        <span class="user-email" id="user-email">email@example.com</span>
                    </div>
                </div>

                <!-- Navigation / Folders -->
                <nav class="sidebar-nav">
                    <div class="nav-section">
                        <h3 class="nav-title">Quick Access</h3>
                        <button class="nav-item active" data-filter="all">
                            <span class="nav-icon">üìã</span>
                            <span class="nav-text">All Links</span>
                            <span class="nav-count" id="count-all">0</span>
                        </button>
                        <button class="nav-item" data-filter="favorites">
                            <span class="nav-icon">‚≠ê</span>
                            <span class="nav-text">Favorites</span>
                            <span class="nav-count" id="count-favorites">0</span>
                        </button>
                        <button class="nav-item" data-filter="recent">
                            <span class="nav-icon">üïê</span>
                            <span class="nav-text">Recent</span>
                            <span class="nav-count" id="count-recent">0</span>
                        </button>
                    </div>

                    <div class="nav-section">
                        <div class="nav-title-row">
                            <h3 class="nav-title">Folders</h3>
                            <button id="add-folder-btn" class="add-folder-btn" aria-label="Add folder">+</button>
                        </div>
                        <div id="folders-list" class="folders-list">
                            <!-- Folders will be rendered here -->
                        </div>
                    </div>
                </nav>

                <!-- Logout Button -->
                <div class="sidebar-footer">
                    <button id="logout-btn" class="logout-btn">
                        <span>üö™</span>
                        <span>Logout</span>
                    </button>
                </div>
            </aside>

            <!-- Main Content -->
            <main class="main-content">
                <!-- Top Bar -->
                <header class="top-bar">
                    <div class="search-container">
                        <span class="search-icon">üîç</span>
                        <input 
                            type="text" 
                            id="search-input" 
                            class="search-input" 
                            placeholder="Search links by title, URL, or tags..."
                            aria-label="Search links">
                        <button id="clear-search" class="clear-search" aria-label="Clear search">√ó</button>
                    </div>
                    <div class="top-bar-actions">
                        <button id="export-btn" class="action-btn" title="Export links">
                            <span>üì§</span>
                            <span class="btn-text">Export</span>
                        </button>
                        <button id="view-toggle" class="action-btn" title="Toggle view">
                            <span id="view-icon">üìä</span>
                        </button>
                    </div>
                </header>

                <!-- Add Link Section -->
                <section class="add-link-section">
                    <div class="add-link-header">
                        <h2>Add New Link</h2>
                        <button id="toggle-advanced" class="toggle-advanced">
                            <span>Advanced</span>
                            <span class="toggle-arrow">‚ñº</span>
                        </button>
                    </div>
                    
                    <form id="add-link-form" class="add-link-form">
                        <div class="form-row">
                            <div class="input-group url-input-group">
                                <label for="input-el">URL</label>
                                <input 
                                    type="url" 
                                    id="input-el" 
                                    placeholder="https://example.com"
                                    required>
                            </div>
                            <button type="submit" id="input-btn" class="submit-btn">
                                <span>‚ûï</span>
                                <span>Add Link</span>
                            </button>
                        </div>

                        <div class="advanced-options" id="advanced-options">
                            <div class="form-row">
                                <div class="input-group">
                                    <label for="link-title">Title (optional)</label>
                                    <input type="text" id="link-title" placeholder="My awesome link">
                                </div>
                                <div class="input-group">
                                    <label for="link-folder">Folder</label>
                                    <select id="link-folder">
                                        <option value="">No folder</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="input-group">
                                    <label for="link-tags">Tags (comma separated)</label>
                                    <input type="text" id="link-tags" placeholder="work, important, read-later">
                                </div>
                                <div class="input-group">
                                    <label for="link-notes">Notes</label>
                                    <input type="text" id="link-notes" placeholder="Add a note...">
                                </div>
                            </div>
                        </div>
                    </form>
                </section>

                <!-- Links Display Section -->
                <section class="links-section">
                    <div class="links-header">
                        <h2 id="section-title">All Links</h2>
                        <div class="links-actions">
                            <select id="sort-select" class="sort-select">
                                <option value="newest">Newest First</option>
                                <option value="oldest">Oldest First</option>
                                <option value="alpha">A-Z</option>
                                <option value="alpha-desc">Z-A</option>
                            </select>
                            <button id="delete-btn" class="delete-all-btn" title="Double-click to delete all">
                                <span>üóëÔ∏è</span>
                                <span>Delete All</span>
                            </button>
                        </div>
                    </div>

                    <!-- Links Grid/List -->
                    <div id="links-container" class="links-container grid-view">
                        <!-- Links will be rendered here -->
                    </div>

                    <!-- Empty State -->
                    <div id="empty-state" class="empty-state">
                        <div class="empty-icon">üì≠</div>
                        <h3>No links yet</h3>
                        <p>Add your first link above to get started!</p>
                    </div>

                    <!-- Loading State -->
                    <div id="loading-state" class="loading-state">
                        <div class="spinner"></div>
                        <p>Loading your links...</p>
                    </div>
                </section>
            </main>
        </div>

        <!-- Add Folder Modal -->
        <div id="folder-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="folder-modal-title">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="folder-modal-title">Create New Folder</h3>
                    <button class="modal-close" data-close-modal>&times;</button>
                </div>
                <form id="folder-form">
                    <div class="input-group">
                        <label for="folder-name">Folder Name</label>
                        <input type="text" id="folder-name" placeholder="e.g., Work, Personal, Read Later" required>
                    </div>
                    <div class="input-group">
                        <label for="folder-icon">Icon</label>
                        <div class="icon-picker" id="icon-picker">
                            <button type="button" class="icon-option selected" data-icon="üìÅ">üìÅ</button>
                            <button type="button" class="icon-option" data-icon="üíº">üíº</button>
                            <button type="button" class="icon-option" data-icon="üè†">üè†</button>
                            <button type="button" class="icon-option" data-icon="üìö">üìö</button>
                            <button type="button" class="icon-option" data-icon="üéÆ">üéÆ</button>
                            <button type="button" class="icon-option" data-icon="üõí">üõí</button>
                            <button type="button" class="icon-option" data-icon="üí°">üí°</button>
                            <button type="button" class="icon-option" data-icon="üîß">üîß</button>
                            <button type="button" class="icon-option" data-icon="üì∞">üì∞</button>
                            <button type="button" class="icon-option" data-icon="üéØ">üéØ</button>
                        </div>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn-secondary" data-close-modal>Cancel</button>
                        <button type="submit" class="btn-primary">Create Folder</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Edit Link Modal -->
        <div id="edit-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="edit-modal-title">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="edit-modal-title">Edit Link</h3>
                    <button class="modal-close" data-close-modal>&times;</button>
                </div>
                <form id="edit-form">
                    <input type="hidden" id="edit-link-id">
                    <div class="input-group">
                        <label for="edit-url">URL</label>
                        <input type="url" id="edit-url" required>
                    </div>
                    <div class="input-group">
                        <label for="edit-title">Title</label>
                        <input type="text" id="edit-title">
                    </div>
                    <div class="input-group">
                        <label for="edit-folder">Folder</label>
                        <select id="edit-folder"></select>
                    </div>
                    <div class="input-group">
                        <label for="edit-tags">Tags</label>
                        <input type="text" id="edit-tags" placeholder="comma separated">
                    </div>
                    <div class="input-group">
                        <label for="edit-notes">Notes</label>
                        <textarea id="edit-notes" rows="2"></textarea>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn-secondary" data-close-modal>Cancel</button>
                        <button type="submit" class="btn-primary">Save Changes</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Toast Container -->
        <div id="toast-container" class="toast-container" aria-live="polite"></div>

        <script type="module" src="logged.js"></script>
    </body>
</html>
